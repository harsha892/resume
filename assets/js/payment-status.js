/*! minified version file */

var paramSessionId;function getOrderStatus(){const n=window.location.href,t=new URL(n);paramSessionId=t.searchParams.get("sessionId");const e=t.searchParams.get("userId")?JSON.parse(t.searchParams.get("userId")):null,s=t.searchParams.get("orderId")?JSON.parse(t.searchParams.get("orderId")):null;e&&s||(sessionId?loadPage("#/home",!1):loadPage("#/login",!1));var a=baseResumeApiUrl+"user/"+e+"/order/"+s+resumeServiceUrls.get.getOrderInfo;paramSessionId?($("header").remove(),doGetWithEncryptWithSession(a,paramSessionId).then(n=>{console.log("response, orderId",{response:n,orderId:s}),paymentStatusResponse(n,s)})):(axios.defaults.headers.common.Token=localStorage.getItem(btoa("sessionId_"+window.location.origin)),doGetWithEncrypt(a).then(function(n){paymentStatusResponse(n,s)}).catch(function(n){console.log(n)}))}function generateInvoice(n){var t;t="https://devresume.workruit.com"==window.location.origin?"https://devresume.workruit.com":"https://stageresume.workruit.com"==window.location.origin?"https://stageresume.workruit.com":"https://resume.workruit.com"==window.location.origin?"https://stageresume.workruit.com":"https://devresume.workruit.com",console.log("::: invoice_data :::",n);var e=` <!DOCTYPE html>\n    <html lang="en">   \n    <link rel="stylesheet" type="text/css" href="${t+"/assets/vendors/css/bootstrap.css"}" />\n    <style>\n    .invoice_template{\n        background:#fff;\n        margin:auto;\n        width:29cm;\n    }\n   .invoice_template .resumeBorder{\n        margin-top: 10%;\n    }\n        .invoice_template .right {\n            float: right;\n        }\n\n        .invoice_template .resumeBorder {\n            border: 1px solid black;\n            margin: 2rem;\n        }\n\n        .invoice_template h5 {\n            font-size: 16pt;\n        }\n\n        .invoice_template span,\n        .invoice_template p {\n            font-size: 13pt;\n        }\n\n        .invoice_template .order-details .bg-gray {\n            height: 35pt;\n        }\n\n        .invoice_template .order-details th.price,\n        .invoice_template th.qty,\n        .invoice_template th.total-title {\n            border-left: 1px solid black;\n        }\n        .invoice_template th.total-title{\n            text-align: center !important;\n        }\n\n        .invoice_template .order-heading {\n            height: 20pt;\n        }\n\n        .invoice_template .text-right {\n            text-align: right;\n        }\n\n        .invoice_template .logo-img {\n            height: 50pt;\n            width: 100%;\n        }\n\n        .invoice_template .logo-img img {\n            height: 35pt;\n            margin-top: 8pt;\n        }\n\n        .invoice_template .seller-details {\n            margin-left: 1%;\n        }\n\n        .invoice_template hr {\n            border-color: black;\n            margin: 0;\n        }\n\n        .invoice_template .bg-gray {\n            background: #dddddd;\n        }\n\n        .invoice_template .line-bold {\n            border-width: 1pt;\n        }\n\n        .invoice_template .details tr td p {\n            font-weight: 600;\n        }\n\n        .invoice_template .address {\n            margin-top: 12pt;\n            font-size: 13pt;\n            margin: 2rem;\n        }\n\n        .invoice_template .address p {\n            font-weight: 600;\n        }\n\n        .invoice_template table {\n            width: 100%;\n        }\n\n        .invoice_template .price {\n            text-align: center;\n        }\n\n        .invoice_template .qty {\n            width: 100pt;\n            text-align: center;\n        }\n\n        .invoice_template .total {\n            width: 100pt;\n            text-align: left;\n        }\n        .invoice_template .total p {\n            margin-left: 20px;\n        }\n    </style><body class="invoice_template"><div class="resumeBorder">\n            <table style="width:100%;">\n                <tr>\n                    <td class="text-right">\n                        <div class="logo-img">\n                        <img src="${t+"/assets/images/storytech.svg"}" alt="storytech"/>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <hr class="line-bold" /><br />\n                        <h5 class="ml-1"><b>Tax Invoice / Receipt</b></h5>\n                        <hr class="line-bold" />\n                    </td>\n                </tr>\n                <tr class="bg-gray">\n                    <td>\n                        <span class="left  ml-1">Invoice Number: ${n.invoice_id}</span>\n                        <span class="right mr-2">Date: ${n.date_time} </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <hr class="line-bold" />\n                        <br />\n                        <hr class="line-bold" />\n                    </td>\n                </tr>\n\n                <table class="ml-1">\n                    <tr>\n                        <td>\n                            <div class="details"></div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <th>\n                            <h5><b>Seller Details</b></h5>\n                        </th>\n                        <th class="right">\n                            <h5 class="mr-4"><b>Buyer Details</b></h5>\n                        </th>\n                    </tr>\n                    <tr>\n                        <td class="ml-1">\n                            <span>${n.address1}</span><br />\n                            <span>${n.address2}</span><br />\n                            <span>${n.address3}</span><br />\n                            <span>${n.address4}</span><br />\n                        </td>\n                        <td class="text-right pr-4 mr-4">\n                            <span>${n.name}</span><br />\n                            <span>${n.email}</span><br />\n                            <span>${n.phoneno}</span><br />\n                            <span></span><br />\n                        </td>\n                    </tr>\n\n                </table>\n                <br />\n                <tr>\n                    <td>\n                        <hr class="line-bold" />\n                    </td>\n                </tr>\n\n\n\n                <table class="order-heading">\n                    <tr>\n                        <td>\n                            <span class="left ml-1"><b> ORDER DETAILS</b></span>\n                            <span class="right mr-1">${n.order_id} </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <hr class="line-bold" />\n                        </td>\n                    </tr>\n\n                </table>\n\n\n                <div class="order-details">\n                    <table>\n                        <tr class="bg-gray">\n                            <th>\n                                <h5 class="ml-1"><b>PARTICULARS</b></h5>\n                            </th>\n                            <th class="price">\n                                <h5><b>PRICE</b></h5>\n                            </th>\n                            <th class="qty">\n                                <h5><b>QTY</b></h5>\n                            </th>\n                            <th class="total-title">\n                                <h5><b>TOTAL</b></h5>\n                            </th>\n                        </tr>\n                        <tr>\n                            <td colspan="4">\n                                <hr class="line-bold" />\n                            </td>\n                        <tr>\n                            <td class="details-width">\n                                <p class="ml-1">${n.par_title}</p>\n                            </td>\n                            <td class="price">\n                                <p>&#x20B9; ${n.par_price}/-</p>\n                            </td>\n                            <td class="qty">\n                                <p>${n.par_qty}</p>\n                            </td>\n                            <td class="total">\n                                <p>&#x20B9; ${n.par_total}/-</p>\n                            </td>\n                        </tr>\n\n                     \x3c!-- <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Subtotal</p>\n                            </td>\n                            <td class="total">\n                                <p>&#x20B9; ${n.subtotal}/-</p>\n                            </td>\n                        </tr> --\x3e\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Discount</p>\n                            </td>\n                            <td class="total">\n                                <p>&#x20B9; ${n.discount}/-</p>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1"><strong>Total</strong></p>\n                            </td>\n                            <td class="total">\n                                <p><strong>&#x20B9; ${n.total_payable}/-</strong></p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan="4">\n                            <hr style="margin-bottom:15px"/>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Base Price</p>\n                            </td>\n\n                            <td class="total">\n                                <p>&#x20B9; ${n.base_price}/-</p>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">SGST + CGST</p>\n                            </td>\n\n                            <td class="total">\n                                <p>&#x20B9; ${n.sgst_cgst}/-</p>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Total Payable</p>\n                            </td>\n\n                            <td class="total">\n                                <p>&#x20B9; ${n.total_payable}/-</p>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n\n            </table>\n\n        </div>\n        <div class="ml-1">\n            <table class="address">\n                <tr>\n                    <td><b>\n                            <span>${n.address1} </span><br />\n                            <span>${n.address2} ${n.address3}</span><br />\n                            <span>${n.address4}</span><br />\n                            <span>${n.cin} ${n.gst} </span><br />\n                            <span>email: ${n.seller_email}</span><br />\n                        </b>\n                    </td>\n                </tr>\n            </table>\n        </div> </body></html>`,s=new FormData,a=new Blob([e]);if(s.append("type","invoice"),s.append("file",a,getUserId()+"_invoice.html"),paramSessionId){const n=window.location.href,t=new URL(n),e=t.searchParams.get("userId_txn")?JSON.parse(t.searchParams.get("userId_txn")):null,a=t.searchParams.get("palnId")?JSON.parse(t.searchParams.get("palnId")):null;s.append("order_id",a),s.append("userId",e),console.log("i am with session id",{htmlFileForPdfForm:s},paramSessionId),doUploadWithSessionId(apiUrl+"/uploadFile",s,paramSessionId).then(n=>{console.log(n),n&&n.status})}else s.append("order_id",localStorage.getItem("selectedPlan")),s.append("userId",getUserId()),doUpload(apiUrl+"/uploadFile",s).then(n=>{console.log(n),n&&n.status})}function paymentStatusResponse(n,t){console.log("paymentStatusResponse response",n),$(".paymentUserName").text(n.data.userName),$("#order_id span").text(t),$("#txn_amount span").text(n.msg.description.split("amount")[1].split(":")[1]);n.msg.invoice_data;switch(gtag("event","purchase",n.msg.ecomm_data),n.status){case"success":$(".info_message_status_text").addClass("text-success"),$(".info_message_status_text").text(n.msg.title),$(".status_message").text("Congratulations,"),$(".check_order").text('You may check "Order History" to view more details.'),paramSessionId?analytics.logEvent("wirw_mobile_transactionsuccess"):analytics.logEvent("wirw_transactionsuccess"),generateInvoice(n.msg.invoice_data);break;case"failed":$(".info_message_status_text").text(n.msg.title+"."),$(".info_message_status_text").addClass("text-danger"),$(".paymentUserName").addClass("d-none"),$(".status_message").text("Oops, Try Again"),$("#order_id").addClass("d-none"),paramSessionId?analytics.logEvent("wirw_mobile_transactionfailed"):analytics.logEvent("wirw_transactionfailed");break;case"pending":$(".info_message_status_text").addClass("text-warning"),$(".status_message").text("Opps,"),paramSessionId?analytics.logEvent("wirw_mobile_pending"):analytics.logEvent("wirw_pending")}$(".loading-container").fadeOut()}$(window).ready(function(){urlParams.get("sessionId")?getOrderStatus():$(".account-page").paraCount()});