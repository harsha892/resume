/*! minified version file */

var localUserAccountData;function bindAccountFormData(e){localUserAccountData=e,e.planDetails.subscribedUser&&1!==e.planDetails.planId&&setTimeout(function(){$(".upgrade-btn").text("Renew")},100),$("#user-picture").on("change",function(){readFile2(this)});var a=e.planDetails;e&&(e.planDetails.emailVerified,(a.subscribedUser&&1===a.planId||!a.paidUser)&&$(".upgrade-panel").removeClass("d-none"),a.subscribedUser||$(".no-orders-panel").removeClass("d-none")),e&&(e.planDetails.emailVerified||$(".tabs-container").addClass("mt-5"))}function storeTheImage(){var e=document.getElementById("canvas-element"),a=e.getContext("2d"),t=document.getElementById("image-preview");e.width=t.width/4,e.height=t.height/4,a.drawImage(t,0,0,t.width/4,t.height/4);var s=e.toDataURL("image/png");try{window.localStorage.setItem("imageStoreData",s),$(".localStorage-output").html(window.localStorage.getItem("imageStoreData")),$(".cont_fotodiv").css("background","transparent")}catch(e){console.log("Storage failed: "+e)}}function readURL(e){var a=e.files[0],t=Math.round(a.size/1024);if("png"==(s=a.type.split("/")[1])||"jpg"==s||"PNG"==s||"jpeg"==s)if(t<2048){if(e.files&&e.files[0]){var s=a.type.split("/")[1],o=new FileReader;o.onload=function(e){$("#image-preview").show(),$("#image-preview").attr("src",e.target.result),storeTheImage()},o.readAsDataURL(e.files[0])}}else $(".invalid_img_format").removeClass("d-none").text("Size exceeded. Max 2MB");else $(".invalid_img_format").removeClass("d-none").text("Image format not supported. Please upload JPG/JPEG/PNG formats.")}function bytesToSize(e){if(0==e)return"0 Byte";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,a),2)+"_"+["Bytes","KB","MB","GB","TB"][a]}function bindCollagesInfo(e){doGetWithEncrypt(baseResumeApiUrl+resumeServiceUrls.get.getCollegesInfo).then(a=>{console.log(a);for(let n=0;n<a.collegesInfo.length;n++){const l=a.collegesInfo[n];var t=`<option value="${btoa(JSON.stringify({collegeName:l.title,collegeLogo:l.logo}))}" data-clgLogo="${l.logo}">${l.title}</option>`;$("#collageName").append(t);var s=e,o=btoa(JSON.stringify({collegeName:s.collegeName,collegeLogo:s.collegeLogo}));console.log("clgInfo2",o),$("#collageName").val(o)}t='<option value="" data-clgLogo="">NA</option>';$("#collageName").append(t)})}$("#updateProfile").on("click",function(){var e=localUserAccountData,a=$.trim($('input[name="firstname"]').val()),t=$.trim($('input[name="lastname"]').val()),s=e.email;console.log("localUserData",e),console.log("localUserData.email",e.email),$(".invalid-feedback").remove();var o=!0;if($.trim(a).length<=0?(o=!1,$('<div class="invalid-feedback">First Name is required.</div>').insertAfter('input[name="firstname"]')):$.trim(a).length<1&&(o=!1,$('<div class="invalid-feedback">Minimum 1 character is required.</div>').insertAfter('input[name="firstname"]')),$.trim(t).length<=0?(o=!1,$('<div class="invalid-feedback">Last Name is required.</div>').insertAfter('input[name="lastname"]')):$.trim(t).length<1&&(o=!1,$('<div class="invalid-feedback">Minimum 1 character is required.</div>').insertAfter('input[name="lastname"]')),o){$("#updateProfile").attr("disabled",!0);var n={firstname:a,lastname:t,email:s};console.log(n),doPostWithOutEncrypt(baseApiUrl+"/user/"+userId+"/"+serviceUrls.post.updateProfileResume,n).then(e=>{console.log(e),"success"==e.status?(localStorage.setItem(encrypt("userData",sessionId),encrypt(JSON.stringify(e.data),sessionId)),$('input[name="firstname"]').val(e.data.firstname),$('input[name="lastname"]').val(e.data.lastname),$("#newSuccessMessageID .message-text").html(e.msg),localStorage.setItem("isServiceActionRequired","true"),$("#newSuccessMessageID").fadeIn().delay(1e3).fadeOut("slow",function(){$("#updateProfile").attr("disabled",!1),window.location.reload()})):($("#newErrorMessageID .message-text").html(e.msg),$("#newErrorMessageID").fadeIn().delay(5e3).fadeOut("slow",function(){$("#updateProfile").attr("disabled",!1)}))})}}),$("#resetPasswordForm").submit(function(e){e.preventDefault();let a={oldPassword:$('input[name="oldPassword"]').val(),newPassword:$('input[name="newPassword"]').val(),reenterNewPassword:$('input[name="reenterNewPassword"]').val()};doPostWithEncrypt(baseApiUrl+"/user/"+userId+"/"+serviceUrls.post.updateResumeUserPassword,a).then(e=>{console.log(e),"success"==e.status?($("#changePasswordForm").addClass("d-none"),$("#changePassBtn").removeClass("d-none"),$("#reenterNewPassword,#newPassword,#oldPassword").val(""),$("#newSuccessMessageID .message-text").html(e.msg.description),$("#newSuccessMessageID").html(e.msg.description).fadeIn().delay(5e3).fadeOut()):($("#newErrorMessageID .message-text").html(e.msg.description),$("#newErrorMessageID").html(e.msg.description).fadeIn().delay(5e3).fadeOut())})}),$("#updateProfile2").on("click",function(){var e=JSON.parse(decrypt(localStorage.getItem(encrypt("userData",atob(localStorage.getItem(btoa("sessionId_"+window.location.origin))))),atob(localStorage.getItem(btoa("sessionId_"+window.location.origin))))),a=$("#collageName").val()?JSON.parse(atob($("#collageName").val())).collegeName:"",t=$("#collageName").val()?JSON.parse(atob($("#collageName").val())).collegeLogo:"";console.log(a,t);var s={firstname:e.firstname,lastname:e.lastname,email:e.email,collegeName:a,collegeLogo:t};doPostWithEncrypt(baseApiUrl+"/user/"+userId+"/"+serviceUrls.post.updateProfileResume,s).then(e=>{console.log(e),"success"==e.status?(localStorage.setItem(encrypt("userData",sessionId),encrypt(JSON.stringify(e.data),sessionId)),$("#newSuccessMessageID .message-text").html(e.msg),$("#newSuccessMessageID").fadeIn().delay(5e3).fadeOut("slow",function(){$("#updateProfile").attr("disabled",!1)})):($("#newErrorMessageID .message-text").html(e.msg),$("#newErrorMessageID").fadeIn().delay(5e3).fadeOut("slow",function(){$("#updateProfile").attr("disabled",!1)}))})}),$(function(){JSON.parse(localStorage.getItem("userPlanStatus"));null===localStorage.getItem("previewData")?$(".preview_btn").css("display","none"):$(".preview_btn").css("display","inline-block"),$(".loading-container").delay(1e3).fadeOut()}),$(function(){$(".account-page").paraCount()}),$("#inputfoto2").on("change",function(){readURL(this)});