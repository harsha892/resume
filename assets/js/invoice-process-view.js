/*! minified version file */

var userResumeData,CHANNEL_ID=urlParams.get("CHANNEL_ID"),SESSION_ID=urlParams.get("SESSION_ID"),USER_ID=urlParams.get("USER_ID"),ORDER_ID=urlParams.get("ORDER_ID"),PLAN_ID=urlParams.get("PLAN_ID"),CALLBACK_URL=urlParams.get("CALLBACK_URL");function generateInvoice(n){console.log("::: invoice_data :::",n);var t=` <!DOCTYPE html>\n    <html lang="en">   \n    <link rel="stylesheet" type="text/css" href="${window.location.origin+"/assets/vendors/css/bootstrap.css"}" />\n    <style>\n    .invoice_template{\n        background:#fff;\n        margin:auto;\n        width:29cm;\n    }\n   .invoice_template .resumeBorder{\n        margin-top: 10%;\n    }\n        .invoice_template .right {\n            float: right;\n        }\n\n        .invoice_template .resumeBorder {\n            border: 1px solid black;\n            margin: 2rem;\n        }\n\n        .invoice_template h5 {\n            font-size: 16pt;\n        }\n\n        .invoice_template span,\n        .invoice_template p {\n            font-size: 13pt;\n        }\n\n        .invoice_template .order-details .bg-gray {\n            height: 35pt;\n        }\n\n        .invoice_template .order-details th.price,\n        .invoice_template th.qty,\n        .invoice_template th.total-title {\n            border-left: 1px solid black;\n        }\n        .invoice_template th.total-title{\n            text-align: center !important;\n        }\n\n        .invoice_template .order-heading {\n            height: 20pt;\n        }\n\n        .invoice_template .text-right {\n            text-align: right;\n        }\n\n        .invoice_template .logo-img {\n            height: 50pt;\n            width: 100%;\n        }\n\n        .invoice_template .logo-img img {\n            height: 35pt;\n            margin-top: 8pt;\n        }\n\n        .invoice_template .seller-details {\n            margin-left: 1%;\n        }\n\n        .invoice_template hr {\n            border-color: black;\n            margin: 0;\n        }\n\n        .invoice_template .bg-gray {\n            background: #dddddd;\n        }\n\n        .invoice_template .line-bold {\n            border-width: 1pt;\n        }\n\n        .invoice_template .details tr td p {\n            font-weight: 600;\n        }\n\n        .invoice_template .address {\n            margin-top: 12pt;\n            font-size: 13pt;\n            margin: 2rem;\n        }\n\n        .invoice_template .address p {\n            font-weight: 600;\n        }\n\n        .invoice_template table {\n            width: 100%;\n        }\n\n        .invoice_template .price {\n            text-align: center;\n        }\n\n        .invoice_template .qty {\n            width: 100pt;\n            text-align: center;\n        }\n\n        .invoice_template .total {\n            width: 100pt;\n            text-align: left;\n        }\n        .invoice_template .total p {\n            margin-left: 20px;\n        }\n    </style><body class="invoice_template"><div class="resumeBorder">\n            <table style="width:100%;">\n                <tr>\n                    <td class="text-right">\n                        <div class="logo-img">\n                        <img src="${window.location.origin+"/assets/images/storytech.svg"}" alt="storytech"/>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <hr class="line-bold" /><br />\n                        <h5 class="ml-1"><b>Tax Invoice / Receipt</b></h5>\n                        <hr class="line-bold" />\n                    </td>\n                </tr>\n                <tr class="bg-gray">\n                    <td>\n                        <span class="left  ml-1">Invoice Number: ${n.invoice_id}</span>\n                        <span class="right mr-2">Date: ${n.date_time} </span>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <hr class="line-bold" />\n                        <br />\n                        <hr class="line-bold" />\n                    </td>\n                </tr>\n\n                <table class="ml-1">\n                    <tr>\n                        <td>\n                            <div class="details"></div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <th>\n                            <h5><b>Seller Details</b></h5>\n                        </th>\n                        <th class="right">\n                            <h5 class="mr-4"><b>Buyer Details</b></h5>\n                        </th>\n                    </tr>\n                    <tr>\n                        <td class="ml-1">\n                            <span>${n.address1}</span><br />\n                            <span>${n.address2}</span><br />\n                            <span>${n.address3}</span><br />\n                            <span>${n.address4}</span><br />\n                        </td>\n                        <td class="right mr-4">\n                            <span class="right">${n.name}</span><br />\n                            <span>${n.email}</span><br />\n                            <span>${n.phoneno}</span><br />\n                            <span></span><br />\n                        </td>\n                    </tr>\n\n                </table>\n                <br />\n                <tr>\n                    <td>\n                        <hr class="line-bold" />\n                    </td>\n                </tr>\n\n\n\n                <table class="order-heading">\n                    <tr>\n                        <td>\n                            <span class="left ml-1"><b> ORDER DETAILS</b></span>\n                            <span class="right mr-1">${n.order_id} </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <hr class="line-bold" />\n                        </td>\n                    </tr>\n\n                </table>\n\n\n                <div class="order-details">\n                    <table>\n                        <tr class="bg-gray">\n                            <th>\n                                <h5 class="ml-1"><b>PARTICULARS</b></h5>\n                            </th>\n                            <th class="price">\n                                <h5><b>PRICE</b></h5>\n                            </th>\n                            <th class="qty">\n                                <h5><b>QTY</b></h5>\n                            </th>\n                            <th class="total-title">\n                                <h5><b>TOTAL</b></h5>\n                            </th>\n                        </tr>\n                        <tr>\n                            <td colspan="4">\n                                <hr class="line-bold" />\n                            </td>\n                        <tr>\n                            <td class="details-width">\n                                <p class="ml-1">${n.par_title}</p>\n                            </td>\n                            <td class="price">\n                                <p>&#x20B9; ${n.par_price}/-</p>\n                            </td>\n                            <td class="qty">\n                                <p>${n.par_qty}</p>\n                            </td>\n                            <td class="total">\n                                <p>&#x20B9; ${n.par_total}/-</p>\n                            </td>\n                        </tr>\n\n                     \x3c!-- <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Subtotal</p>\n                            </td>\n                            <td class="total">\n                                <p>&#x20B9; ${n.subtotal}/-</p>\n                            </td>\n                        </tr> --\x3e\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Discount</p>\n                            </td>\n                            <td class="total">\n                                <p>&#x20B9; ${n.discount}/-</p>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1"><strong>Total</strong></p>\n                            </td>\n                            <td class="total">\n                                <p><strong>&#x20B9; ${n.total_payable}/-</strong></p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan="4">\n                            <hr style="margin-bottom:15px"/>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Base Price</p>\n                            </td>\n\n                            <td class="total">\n                                <p>&#x20B9; ${n.base_price}/-</p>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">GST</p>\n                            </td>\n\n                            <td class="total">\n                                <p>&#x20B9; ${n.sgst_cgst}/-</p>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class="details-width" colspan="3">\n                                <p class="ml-1">Total Payable</p>\n                            </td>\n\n                            <td class="total">\n                                <p>&#x20B9; ${n.total_payable}/-</p>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n\n            </table>\n\n        </div>\n        <div class="ml-1">\n            <table class="address">\n                <tr>\n                    <td><b>\n                            <span>${n.address1} </span><br />\n                            <span>${n.address2} ${n.address3}</span><br />\n                            <span>${n.address4}</span><br />\n                            <span>${n.cin} ${n.gst} </span><br />\n                            <span>email: ${n.seller_email}</span><br />\n                        </b>\n                    </td>\n                </tr>\n            </table>\n        </div> </body></html>`;console.log("invoiceTemplate",t);var e=new FormData,a=new Blob([t]);e.append("type","invoice"),e.append("userId",USER_ID),e.append("order_id",PLAN_ID),e.append("file",a,USER_ID+"_invoice.html"),doUploadWithSessionId(apiUrl+"/uploadFile",e,SESSION_ID).then(n=>{console.log(n);var t=`\n            <form method='post' action='${CALLBACK_URL}' name='uploadSuccessForm'>\n            <input type='hidden' name='SESSION_ID' value='${SESSION_ID}'>\n            <input type='hidden' name='USER_ID' value='${USER_ID}'>\n            <input type='hidden' name='CHANNEL_ID' value=${CHANNEL_ID}>\n            <input type='hidden' name='SESSION_ID' value=${SESSION_ID}>\n            <input type='hidden' name='USER_ID' value=${USER_ID}>\n            <input type='hidden' name='ORDER_ID' value=${ORDER_ID}>\n            <input type='hidden' name='PLAN_ID' value=${PLAN_ID}>\n        </form>\n        <script type='text/javascript'>document.uploadSuccessForm.submit();<\/script>`;$("#upload_success_form").html(t)})}$(window).on("load",function(){var n=baseResumeApiUrl+"user/"+USER_ID+"/order/"+ORDER_ID+resumeServiceUrls.get.getOrderInfo;console.log({SESSION_ID:SESSION_ID,CALLBACK_URL:CALLBACK_URL,USER_ID:USER_ID,ORDER_ID:ORDER_ID,getOrderInfoUrl:n}),doGetWithEncryptWithSession(n,SESSION_ID).then(function(n){console.log(n),generateInvoice(n.msg.invoice_data)}).catch(function(n){console.log(n)})});