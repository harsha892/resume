/*! minified version file */

var userResumeData,defaultUserSettings,downloadUrl,coverLetterData,sId=atob(localStorage.getItem(btoa("sessionId_"+window.location.origin))),id=decrypt(localStorage.getItem(encrypt("userId",sId)),sId),skillsLocalArray=getSkills(),isUserProfileSaved=!1,isProfilePictureUpdated=!1,postObj={user_id:getUserId(),cover_letter:{firstname:"",lastname:"",jobfunction:"",email:"",telephone:"",location:"",linkedin:"",initials:"",to_firstname:"",to_lastname:"",company:"",designation:"",to_location:"",date:"",title:"",description:"",themeOptions:{},template:$("#coverLetterTemplate").attr("data-coverLettertemplate")}};$(window).on("load",function(){var e=getUserId();doGetWithOutAuth(apiUrl+"/user/"+e+"/getProfileResume").then(e=>{userResumeData=e.data,console.log("userResumeData",userResumeData),coverLetterData=userResumeData.coverLetterData?JSON.parse(userResumeData.coverLetterData).cover_letter:{},console.log("coverLetterData",coverLetterData);var t=Object.keys(coverLetterData.themeOptions);console.log("doGetWithEncrypt",e,t);var a=coverLetterData.themeOptions[t[0]].settings.sort(function(e,t){const a=e.dataText.toUpperCase(),r=t.dataText.toUpperCase();let o=0;return a>r?o=1:a<r&&(o=-1),o});if(coverLetterData.themeOptions[t].settings=a,defaultDataObj=JSON.stringify(coverLetterData),"success"==e.status){web_version!=e.data.user_web_version&&getWebVersion()!=web_version&&($("#refreshPopUp").removeClass("d-none"),$(".refresh_button").attr("data-version",e.data.user_web_version));var r=localStorage.getItem("newTemplate");downloadUrl=e.resumeInfo.httpPath,r==coverLetterData.template?($("#coverLetterTemplate").attr("data-coverLettertemplate",coverLetterData.template),$("#coverLetterTemplate").load("wir-coverletter/"+coverLetterData.template.replace("_","-")+".html")):r&&"null"!=r?($("#coverLetterTemplate").attr("data-coverLettertemplate",r),$("#coverLetterTemplate").load("wir-coverletter/"+r.replace("_","-")+".html")):coverLetterData.template?($("#coverLetterTemplate").attr("data-coverLettertemplate",coverLetterData.template),$("#coverLetterTemplate").load("wir-coverletter/"+coverLetterData.template.replace("_","-")+".html")):($("#coverLetterTemplate").load("wir-coverletter/template-1.html"),$("#coverLetterTemplate").attr("data-coverLettertemplate","template_1"))}else window.location.href=window.location.origin+"app/dashboard/home.html"})});const fieldMapping={firstname:"firstname",user_website:"user_website",userJobTitle:"userJobTitle",user_twitter:"user_twitter",coverLetter:"coverLetter",user_blog:"user_blog",user_linkdin:"user_linkdin",telephone:"telephone",current_salary:"current_salary",user_github:"user_github",lastname:"lastname",user_behance:"user_behance",expDisplay:"expDisplay",location:"location",gender:"gender",date_of_birth:"date_of_birth",interests:"interests",template:"template",userEducationResSet:{type:"array",key:"education",keys:{endDate:"endDate",startDate:"startDate",fieldOfStudy:"fieldOfStudy",institution:"institution",location:"location",degree:"degree",degreeTitle:"degreeTitle",description:"description"}},userExperienceResSet:{type:"array",key:"experience",keys:{endDate:"endDate",startDate:"startDate",jobTitle:"jobTitle",description:"description",company:"company",location:"location"}},userCertificatesSet:{type:"array",key:"certifications_data",keys:{endDate:"endDate",startDate:"startDate",courseName:"courseName",organization:"organization"}},userAcademicResSet:{type:"array",key:"academic",keys:{endDate:"endDate",startDate:"startDate",institution:"institution",role:"role",description:"description",location:"location",projectTitle:"projectTitle"}},userSkillsSet:{type:"array",key:"skill",keys:{percentage:"skill_percentage",title:"skillName"}},userLngSet:{type:"array",key:"languages",keys:{percentage:"lng_percentage",title:"lngName"}}},themeOptionsMapping={color:"color",fontTitle:"fontTitle",font:"font",settings:{type:"array",key:"settings",keys:{status:"status"}}};var selectedInput,local={a:1,b:{f:"3"},z:[{x:3,y:5},{x:3,y:5}],n:[1,2,3,8]},server={c:1,d:{e:"3"},v:[{m:3,n:5},{m:3,n:5}],m:[2,1,3,8]},map={a:"c",b:{type:"object",key:"d",keys:{f:"e"}},z:{type:"array",key:"v",keys:{x:"m",y:"n"}},n:{type:"array",key:"m",primitive:!0}};function compareObjectWithMapping(e,t,a){const r=Object.keys(e||{});if(r.length)for(let o=0;o<r.length;o++){const i=r[o],n=e[r[o]];if("string"==typeof n&&a[i]!=t[n])return console.log("::: compareObjectWithMapping string:::",{mapKey:i,key:n,compareObj1:a,compareObj:a[i],valueObj1:t,valueObj:t[n]}),!1;if("object"==typeof n){if("object"==n.type){console.log("::: compareObjectWithMapping object:::",{mapKey:i,key:n,compareObj:a[i],valueObj:t[n.key]});const e=compareObjectWithMapping(n.keys,t[n.key],a[i]);if(!e)return e}if("array"==n.type){if((t[n.key]||[]).length!==(a[i]||[]).length)return!1;if(n.primitive){const e=!(t[n.key]||[]).map((e,t)=>e==(a[i]||[])[t]).filter(e=>!e).length;if(!e)return e}else{const e=!(t[n.key]||[]).map((e,t)=>compareObjectWithMapping(n.keys,e,(a[i]||[])[t])).filter(e=>!e).length;if(!e)return e}}}}return!0}function arrayAsPostObj(e){}function showPlansModal(e){console.log($(e)),$(e).addClass("pointer-events"),$("#pricing-modal .pricing_template").empty(),getResumePlans(data()),setTimeout(function(){$("#pricing-modal").modal({backdrop:!0}),$("#pricing-modal").show(),$(e).removeClass("pointer-events")},500)}var d=moment("YYYY/MM/DD");function addTillDate(){return $("body").on("click",".month-picker",function(e){datePickerAddon($(this))}),$(".month-picker").on("focus",function(e){datePickerAddon($(this))}),!0}function datePickerAddon(e){if("endDate"==$(e).attr("data-content").split("_")[1]){if($(".datepicker.datepicker-dropdown").hasClass("datepicker-orient-top")&&0==$(".datepicker.datepicker-dropdown .till_date_view").length){var t=$(".datepicker-orient-top").css("top").split("px")[0];$(".datepicker-orient-top").css("top",t-26+"px")}$(".datepicker.datepicker-dropdown .till_date_view").remove(),$(".datepicker.datepicker-dropdown").append('<p class="text-right till_date_view cursor-pointer px-3 pb-2" onclick="till_date_view()">Present</p>')}selectedInput=e;var a=$(selectedInput).val().split(" ")[0];$(".datepicker-months td span").each(function(){$(this).removeClass("focused"),console.log("$(this).val() ",$(selectedInput).val(),moment().format("MMM")),a==$(this).text()?$(this).addClass("active").siblings().removeClass("active"):"Present"==$(selectedInput).val()&&$(this).text()==moment().format("MMM")&&($(this).addClass("active").siblings().removeClass("active"),selectedDate=moment().format("yyyy-MM-dd"))})}function till_date_view(){console.log($(selectedInput)),$(selectedInput).val("Present"),$(".month-picker").trigger("change")}